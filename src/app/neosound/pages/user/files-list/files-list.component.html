<h1>Files</h1>
<div class="alert alert-danger" *ngIf="errorMessage">Error: {{errorMessage}}</div>
<div *ngIf="!isLoading; else loading" class="mt-5">
  <table class="table table-striped">
    <thead>
      <tr>
          <th>Batch Id</th>
          <th>Name</th>
          <th>Uploaded</th>
          <th>Emotion</th>
          <th>Beta</th>
          <th>%</th>
          <th></th>
          <th></th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let item of files">
        <td>{{ item.batchid}}</td>
        <td>{{ item.filename}}</td>
        <td>{{item.uploaddate | date: 'dd/MM/yyyy hh:mm:ss'}}</td>
        <td>{{item.angertop && item.angertop.anger}}</td>
        <td>{{getEmotionName(item.fourclasstop)}}</td>
        <td>{{getEmotionValue(item.fourclasstop)}}</td>
        <td><a [routerLink]="getLink(item)">File details</a></td>
        <td><a style="cursor: pointer;" (click)="delete(item.batchid, item.filename)">Delete</a></td>
      </tr>
    </tbody>
  </table>
  <button class="btn mt-3 btn-secondary" (click)="refresh()">Refresh</button>
</div>
<div *ngIf="!isLoading && !files">0 Files</div>

<ng-template #loading>
  Loading...
</ng-template>