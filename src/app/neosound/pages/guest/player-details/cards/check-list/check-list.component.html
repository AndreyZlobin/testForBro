<div class="d-flex justify-content-end align-items-center mb-3">
  <button class="btn p-2 align-self-center mr-1"
    [ngClass]="{'c-primary': view === 'comments', 'c-normal': view !== 'comments'}"
    style="cursor: pointer;outline: none;" (click)="switchView('comments')">
    <i class="far fa-sticky-note"></i>
  </button>
  <button class="btn p-2 align-self-center"
    [ngClass]="{'c-primary': view === 'assessment', 'c-normal': view !== 'assessment'}"
    style="cursor: pointer; outline: none;" (click)="switchView('assessment')">
    <i class="fas fa-tasks"></i>
  </button>
</div>
<ng-container *ngIf="view === 'assessment'">
  <div style="overflow-y: auto;" class="p-2">
    <div style="height: 48vh;">
      <div class="d-flex flex-column border-bottom p-2 mb-3" *ngFor="let question of data; let i = index">
        <div>
          {{i+1}}. {{question.q}}
        </div>
        <div class="d-flex justify-content-end">
          <div class="btn-group btn-group-toggle ml-auto" data-toggle="buttons">
            <ng-container *ngFor="let answer of question.as">
              <label style="cursor: pointer; padding: .5rem .75rem; outline: none;" (click)="setAnswer(i, answer)"
                [ngClass]="{'btn': true, 'btn-primary': isActive(question, answer), 'btn-secondary': !isActive(question, answer)}">
                <input type="radio" name="options" style="outline: none;" id={{question+answer}}>{{answer}}
              </label>
            </ng-container>
          </div>
        </div>
      </div>
    </div>
    <div class="d-flex justify-content-around align-items-center py-2">
      <div>Total score: {{getAssessment(data)}}%</div>
      <div class="d-flex flex-row justify-content-end ml-4">
        <button type="button" class="btn c-normal primary border " style="padding: .5rem .75rem;"
          (click)="save()">Reset</button>
        <button type="button" class="btn ml-1 border btn-primary" style="padding: .5rem .75rem;"
          (click)="save()">Save</button>
      </div>
    </div>
  </div>
</ng-container>
<ng-container *ngIf="view === 'comments'">
  <div style="overflow-y: auto;" class="border p-2">
    <div style="height: 48vh;" class="p-2" contenteditable="true" [(ngModel)]="comment">
    </div>
  </div>
  <div class="d-flex ">
    <div class="d-flex flex-row justify-content-end ml-auto">
      <button type="button" class="btn ml-1 border btn-primary" style="padding: .5rem .75rem;"
        (click)="saveComment()">Save</button>
    </div>
  </div>
</ng-container>
<ng-template #loading>
  <div class="d-flex align-items-center justify-content-center">
  </div>
</ng-template>