<div>
  <button class="btn btn-secondary pull-right" routerLink="/user/files" style="float: right">Back</button>
  <h1>Details</h1>
  <ul class="nav nav-tabs mt-3 mb-3">
    <li class="nav-item">
      <a class="nav-link" [ngClass]="{'active': currentTab === 'anger', 'disabled': tabsDisabled}" (click)="setTab('anger')">Anger</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" [ngClass]="{'active': currentTab === 'age', 'disabled': tabsDisabled}" (click)="setTab('age')">Age</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" [ngClass]="{'active': currentTab === 'gender', 'disabled': tabsDisabled}" (click)="setTab('gender')">Gender</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" [ngClass]="{'active': currentTab === 'beta', 'disabled': tabsDisabled}" (click)="setTab('beta')">Beta</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" [ngClass]="{'active': currentTab === 'results', 'disabled': tabsDisabled}" (click)="setTab('results')">Results</a>
    </li>
  </ul>
  <div class="alert alert-danger" *ngIf="errorMessage">Error: {{errorMessage}}</div>
  <ng-container *ngIf="currentTab !== 'results'">
    <div id="myWavesurferContainer"></div>
    <div id="timelineContainer"></div>
    <button class="mt-3 btn btn-primary" (click)="play()">
      <i class="fa fa-play"></i>/<i class="fa fa-pause"></i>
    </button>
  </ng-container>
  <div *ngIf="currentTab === 'anger'" class="mt-3 mb-3">
    <h6 class="text-center">Anger level</h6>
    <div class="row">
      <div class="col-1 text-right">
          0%
      </div>
      <div class="col-10">
        <div class="grad1"></div>
      </div>
      <div class="col-1 text-left">
          100%
      </div>
    </div>
  </div>
  <div *ngIf="currentTab === 'age'" class="mt-3 mb-3">
    <div style="background: red;" class="circle-i"></div> - Teen
    <div style="background: green;" class="circle-i ml-3"></div> - Adult
    <div style="background: blue;" class="circle-i ml-3"></div> - Senior
  </div>
  <div *ngIf="currentTab === 'gender'" class="mt-3 mb-3">
      <div style="background: red;" class="circle-i"></div> - Female
      <div style="background: blue;" class="circle-i ml-3"></div> - Male
  </div>
  <div *ngIf="currentTab === 'beta'" class="mt-3 mb-3">
      <div style="background: red;" class="circle-i"></div> - Anger
      <div style="background: green;" class="circle-i ml-3"></div> - Happiness
      <div style="background: blue;" class="circle-i ml-3"></div> - Sadness
  </div>
  <div *ngIf="currentTab === 'results'" class="mt-3 mb-3">
    <app-results (refresh)="void"></app-results>
  </div>
  <!-- <div class="btn-group float-right"><button class="mt-3 btn btn-primary" (click)="zoomIn()">
      <i class="fas fa-search-plus"></i>
    </button>
    <button class="mt-3 btn btn-primary" (click)="zoomOut()">
      <i class="fas fa-search-minus"></i>
    </button>
  </div> -->
  <div *ngIf="emotions && currentTab !== 'results'" class="mt-5">
    <div class="scrollable-list">
      <table class="table table-striped" style="max-height: 30vh;overflow-x:auto">
        <tr *ngFor="let item of emotions" (click)="gotoPosition(item[0])">
          <td>{{ getDateVal(item[0]) | date:'mm:ss.SSS'}} - {{ getDateVal(item[1]) | date:'mm:ss.SSS'}}</td>
          <td>{{item[2]}}</td>
          <td>{{item[3] | currency: '%': 'symbol':'1.2-2'}}</td>
        </tr>
      </table>
    </div>
  </div>
</div>